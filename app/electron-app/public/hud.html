<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Spectre HUD</title>
    <link rel="stylesheet" href="hud.css">
  </head>
  <body class="hud-body">
    <!-- Collapsed-state toggle lives outside the shell so CSS siblings can react -->
    <input type="checkbox" id="hud-toggle" class="state-toggle" aria-hidden="true">
    <input type="checkbox" id="layout-toggle" class="state-toggle" aria-hidden="true">
    <input type="checkbox" id="log-toggle" class="state-toggle" aria-hidden="true">

    <div class="hud-viewport">
      <div class="hud-shell">
        <div class="resize-handle resize-left" id="resize-left"></div>
        <div class="resize-handle resize-right" id="resize-right"></div>
        <!-- Row 1: Brand, Hide, 3-dot | Stop/Resume, Exit -->
        <div class="hud-row row-1">
          <div class="row1-left">
            <div class="brand-chip" aria-label="Brand">
              <span class="brand-mark" aria-hidden="true"></span>
              <div class="brand-copy">
                <span class="brand-title">Spectre</span>
                <span class="brand-title-collapsed">Spectre</span>
              </div>
            </div>
            <label for="hud-toggle" class="pill-btn ghost-btn collapse-toggle" role="button" aria-label="Hide HUD">Hide</label>
            <label for="hud-toggle" class="pill-btn ghost-btn collapse-show" role="button" aria-label="Show HUD">Show</label>
            <div class="mini-btn move-handle" id="move-btn" title="Click & Hold to Move" aria-label="Move HUD">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 9l-3 3l3 3M9 5l3-3l3 3M19 9l3 3l-3 3M15 19l-3 3l-3-3M9 9h6v6h-6z"/></svg>
            </div>
          </div>
          <div class="row1-right">
            <button id="stop-btn" class="pill-btn accent-btn">Stop Listening</button>
            <button id="exit-btn" class="pill-btn danger-btn">Exit</button>
          </div>
        </div>

        <!-- Row 2: Transcript | Hamburger, Clear -->
        <div class="hud-row row-2">
          <div class="transcript" id="transcript" role="log" aria-live="polite" contenteditable="true" spellcheck="false">
            Waiting for transcript...
          </div>
          <div class="row2-right">
            <div class="log-dropdown">
              <label for="log-toggle" class="icon-btn log-trigger" role="button" aria-haspopup="true" aria-label="Transcript feed">
                <span class="icon-hamburger" aria-hidden="true">â˜°</span>
              </label>
              <div class="log-panel" id="log-panel" aria-live="polite">
                <div class="log-content" id="log-content">Waiting for transcript...</div>
              </div>
            </div>
            <button class="pill-btn ghost-btn" id="clear-transcript-btn">Clear</button>
          </div>
        </div>

        <!-- Row 3: Centered CTAs -->
        <div class="hud-row row-3">
          <div class="cta-center">
            <button id="answer-btn" class="chin-btn primary">Answer</button>
            <button id="analyze-btn" class="chin-btn secondary">Analyse Screen</button>
          </div>
        </div>
      </div>
    </div>

    <div id="hud-toast" class="hud-toast" role="status" aria-live="polite"></div>
    <script src="../renderer.js"></script>
  </body>
</html>
