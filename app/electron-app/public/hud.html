<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>InterviewAI HUD</title>
    <link rel="stylesheet" href="hud.css">
  </head>
  <body class="hud-body">
    <!-- Collapsed-state toggle lives outside the shell so CSS siblings can react -->
    <input type="checkbox" id="hud-toggle" class="state-toggle" aria-hidden="true">
    <div class="hud-viewport">
      <div class="hud-shell">
        <div class="hud-capsule">
          <div class="hud-left">
            <!-- State Toggles (Checkbox Hack) -->
            <input type="checkbox" id="layout-toggle" class="state-toggle" aria-hidden="true">
            <input type="checkbox" id="log-toggle" class="state-toggle" aria-hidden="true">

            <!-- Hidden element to satisfy renderer.js ID requirement without triggering window hide -->
            <div id="hide-btn" style="display: none;"></div>

            <div class="brand-chip" aria-label="Brand">
              <span class="brand-mark" aria-hidden="true"></span>
              <div class="brand-copy">
                <span class="brand-title">InterviewAI</span>
                <span class="brand-title-collapsed">InterviewAI</span>
                <span class="brand-sub">Live assist</span>
              </div>
            </div>

            <label for="hud-toggle" class="pill-btn ghost-btn collapse-toggle" role="button" aria-label="Hide HUD">Hide</label>
            <label for="hud-toggle" class="pill-btn ghost-btn collapse-show" role="button" aria-label="Show HUD">Show</label>

            <div class="menu-cluster">
              <label for="layout-toggle" class="icon-btn layout-trigger" role="button" aria-haspopup="true" aria-label="Layout menu">
                <span class="icon-dots" aria-hidden="true">···</span>
              </label>
              <div class="layout-menu" role="menu">
                <div class="menu-title">Layout</div>
                <div class="menu-row">
                  <span class="menu-label">Position</span>
                  <div class="menu-actions">
                    <button id="move-left-btn" class="chip-btn" aria-label="Move HUD left">&larr;</button>
                    <button id="move-right-btn" class="chip-btn" aria-label="Move HUD right">&rarr;</button>
                  </div>
                </div>
                <div class="menu-row">
                  <span class="menu-label">Scale</span>
                  <div class="menu-actions">
                    <button id="scale-down-btn" class="chip-btn" aria-label="Scale HUD down">-</button>
                    <button id="scale-up-btn" class="chip-btn" aria-label="Scale HUD up">+</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="log-dropdown">
              <label for="log-toggle" class="icon-btn log-trigger" role="button" aria-haspopup="true" aria-label="Transcript feed">
                <span class="icon-equal" aria-hidden="true"></span>
              </label>
              <div class="log-panel" id="log-panel" aria-live="polite">
                <div class="log-head">
                  <div class="log-pill">System transcripts</div>
                  <span class="log-hint">Hover to pin</span>
                </div>
                <div class="log-scroll">
                  <div class="log-section">
                    <div class="log-title">System Audio</div>
                    <div class="log-lines" id="system-audio-log">Listening for system audio...</div>
                  </div>
                  <div class="log-section muted">
                    <div class="log-title">Mic Audio</div>
                    <div class="log-lines">Mic disabled</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="hud-center">
            <div class="transcript" id="transcript" role="log" aria-live="polite">
              Waiting for transcript...
            </div>
          </div>

          <div class="hud-right">
            <div class="hud-actions-inline">
              <button class="pill-btn ghost-btn" id="clear-transcript-btn">Clear</button>
              <button id="stop-btn" class="pill-btn accent-btn">Stop Listening</button>
              <button id="exit-btn" class="pill-btn danger-btn">Exit</button>
            </div>
          </div>
        </div>

        <div class="chin-actions">
          <button id="answer-btn" class="chin-btn primary">AI Answer</button>
          <button id="analyze-btn" class="chin-btn secondary">Analyse Screen</button>
        </div>
      </div>
    </div>

    <div id="hud-toast" class="hud-toast" role="status" aria-live="polite"></div>
    <script src="../renderer.js"></script>
  </body>
</html>
